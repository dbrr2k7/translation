{% extends "task-info.html" %}

{% block btn-content %}
    <button class="btn btn-default" onclick="send_data({{ taskId }}, false)">Save</button>
    <button class="btn btn-default" onclick="send_data({{ taskId }}, true)">Save And Publish</button>
{% endblock %}

{% block script-content %}

    <script type="text/javascript">
        function send_data(quesId, publishing) {
            var mycontent = simplemde.value();
            console.log(mycontent);
            var data = {
                'title': document.getElementById('title').value,
                'content': mycontent,
                'id': quesId,
                'is_published': publishing,
                csrfmiddlewaretoken: '{{ csrf_token }}'
            };

            $.ajax({
                url: " {% url 'savetask' %}",
                data: data,
                type: "POST",
                success: function (response) {
                },
                complete: function () {
                },
                error: function (xhr, textStatus, thrownError) {
                }
            });
            return false;
        }
    </script>
{% endblock %}