{% extends "base.html" %}

{% block content %}

    <link rel="stylesheet" href="/static/css/question.css">

{% for contest_tasks in tasks_lists %}

    <div class="body container col-sm-10 col-sm-offset-1">
        <h2>{{contest_tasks.title}}</h2>
        <table class="table table-hover">
            <thead><tr>
                <th width="20%">Task</th>
                <th width="20%">PDF</th>
                <th>Freeze</th>
                <th>Edit Lock</th>
            </tr></thead>
            <tbody>
            {% for task in contest_tasks.tasks %}
                <tr>
                    <td> {{ task.name }} </td>
                    {% if task.trans_id %}
                        <td>
                            <a href="{% url 'task_pdf' 'task' contest_tasks.slug task.name %}" class="btn btn-default" title="PDF"><i class="fa fa-btns fa-file-pdf-o fa-lg"></i></a>
                        </td>
                        <td>
                            <form method="post" action="{% url 'freeze_trans' id=task.trans_id %}">
                                {% csrf_token %}
                                <input type="hidden" name="freeze" value="{{ task.frozen|yesno:'False,True' }}" />
                                <input type="submit" value="{% if task.frozen %} Unfreeze {% else %} Freeze {%endif%}" />
                            </form>
                        </td>
                        <td>
                            {% if task.is_editing %}
                                <form method="post" action="{% url 'unleash_edit_token' id=task.trans_id %}">
                                    {% csrf_token %}
                                    <input type="submit" value="Unleash Token" />
                                </form>
                            {% endif %}
                        </td>
                    {% else %}
                        <td></td>
                        <td></td>
                        <td></td>
                    {% endif %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

{% endfor %}

{% endblock %}
